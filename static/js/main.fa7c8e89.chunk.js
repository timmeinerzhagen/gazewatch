(this.webpackJsonpgazewatch=this.webpackJsonpgazewatch||[]).push([[0],{134:function(t,e,n){},136:function(t,e,n){},151:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),i=n(34),c=n.n(i),o=(n(134),n(5)),s=n.n(o),l=n(14),u=n(11),h=n(21),d=n(12),f=n(13),g=n(168),p=n(52),y=n(164),v=n(171),m=n(170),j=n(167),b=n(166),x=(n(136),n(79)),O=n(162),w=n(16),k=n(6),z=w.e().domain([0,5]).range(["hsl(152,80%,80%)","hsl(228,30%,40%)"]).interpolate(w.b),C=1e3,S=1e3;function B(t){var e=0;if("value"in t&&(e+=t.value),void 0===t||void 0===t.children)return e;for(var n in t.children){e+=t.children[n].value}return e}var D=function(t){Object(d.a)(n,t);var e=Object(f.a)(n);function n(t){var a;return Object(u.a)(this,n),(a=e.call(this,t)).myRef=r.a.createRef(),a}return Object(h.a)(n,[{key:"render",value:function(){var t=this.props.loading;return console.log(t),w.f(this.myRef.current).selectAll("*").remove(),this.getChart(this.props.data),Object(k.jsxs)(p.a,{align:"center",justify:"center",direction:"column",fill:!0,children:[t&&Object(k.jsx)(O.a,{justify:"center"}),Object(k.jsx)(p.a,{ref:this.myRef,fill:!t,style:{display:t?"none":"block"}})]})}},{key:"getChart",value:function(t){var e,n=function(t){return w.d().size([C,S]).padding(3)(w.a(t).sum((function(t){return t.value})).sort((function(t,e){return e.value-t.value})))}(t),a=n,r=w.f(this.myRef.current).append("svg").attr("viewBox","-".concat(500," -").concat(500," ").concat(C," ").concat(S)).style("height","100%").style("width","100%").style("display","block").style("margin","0 -14px").style("background",z(0)).style("cursor","pointer").on("click",(function(t){return s(t,n)})),i=r.append("g").selectAll("circle").data(n.descendants().slice(1)).join("circle").attr("fill",(function(t){return t.children?z(t.depth):"white"})).attr("pointer-events",(function(t){return t.children?null:"none"})).on("mouseover",(function(){w.f(this).attr("stroke","#000")})).on("mouseout",(function(){w.f(this).attr("stroke",null)})).on("click",(function(t,e){return a!==e&&(s(t,e),t.stopPropagation())})),c=r.append("g").style("font","30px sans-serif").attr("pointer-events","none").attr("text-anchor","middle").selectAll("text").data(n.descendants()).join("text").style("fill-opacity",(function(t){return t.parent===n?1:0})).style("display",(function(t){return B(t)>1e4?"inline":"none"})).text((function(t){return t.data.name}));function o(t){var n=C/t[2];e=t,c.attr("transform",(function(e){return"translate(".concat((e.x-t[0])*n,",").concat((e.y-t[1])*n,")")})),i.attr("transform",(function(e){return"translate(".concat((e.x-t[0])*n,",").concat((e.y-t[1])*n,")")})),i.attr("r",(function(t){return t.r*n}))}function s(t,n){a=n;var i=r.transition().duration(t.altKey?7500:750).tween("zoom",(function(t){var n=w.c(e,[a.x,a.y,2*a.r]);return function(t){return o(n(t))}}));c.filter((function(t){return t.parent===a||"inline"===this.style.display})).transition(i).style("fill-opacity",(function(t){return t.parent===a?1:0})).on("start",(function(t){t.parent===a&&B(t)>1e4&&(this.style.display="inline")})).on("end",(function(t){t.parent!==a&&(this.style.display="none")}))}return o([n.x,n.y,2*n.r]),r.node()}}]),n}(r.a.Component),R=function(t){Object(d.a)(n,t);var e=Object(f.a)(n);function n(){var t;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={rawdata:[],data_visualization:{name:"timmeinerzhagen",children:[{name:"BetweennessCentrality",value:20}]},octokit:new x.a({}),stargazer_range:1e4,username:"timmeinerzhagen",loading:!0},t}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var t=Object(l.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.loadData("timmeinerzhagen");case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.state,n=e.data_visualization,a=e.stargazer_range,r=e.username,i=e.loading;return Object(k.jsx)(g.a,{style:{height:"100vh",width:"100vw"},children:Object(k.jsxs)(p.a,{fill:!0,align:"center",children:[Object(k.jsx)(y.a,{align:"center",direction:"row",justify:"between",gap:"medium",children:Object(k.jsx)(v.a,{children:" Repositories with stargazers by user grouped by org "})}),Object(k.jsxs)(p.a,{align:"center",gap:"small",fill:!0,children:[Object(k.jsxs)(p.a,{direction:"row",gap:"medium",children:[Object(k.jsx)(m.a,{value:r,onChange:function(e){return t.setState({username:e.target.value})}}),Object(k.jsx)(j.a,{primary:!0,label:"Visualize",onClick:function(){t.setState({loading:!0}),t.loadData()}})]}),Object(k.jsx)(D,{fill:!0,data:n,range:a,loading:i})]}),Object(k.jsx)(b.a,{align:"center",direction:"row",justify:"between",gap:"medium",children:Object(k.jsxs)(v.a,{level:2,children:[" View the project on ",Object(k.jsx)("a",{href:"https://github.com/timmeinerzhagen/gazewatch",children:"GitHub"})," "]})})]})})}},{key:"loadData",value:function(){var t=this,e=this.state,n=e.octokit,a=e.username;n.paginate(n.rest.activity.listReposStarredByUser,{username:a,per_page:100}).then((function(e){t.setState({rawdata:e}),t.generateByOrg(e)})).catch((function(t){console.error(t)}))}},{key:"generateByOrg",value:function(t){var e={};t.forEach((function(t){t.owner.login in e?e[t.owner.login].push(t):e[t.owner.login]=[t]})),this.setState({data:e}),this.createVisualizationData(e)}},{key:"createVisualizationData",value:function(t){var e={name:"timmeinerzhagen",children:[]};Object.keys(t).forEach((function(n){var a=t[n],r=[];a.forEach((function(t){r.push({name:t.name,value:t.stargazers_count})})),e.children.push({name:n,children:r})})),this.setState({data_visualization:e,loading:!1})}}]),n}(r.a.Component),_=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,172)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,i=e.getLCP,c=e.getTTFB;n(t),a(t),r(t),i(t),c(t)}))};c.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(R,{})}),document.getElementById("root")),_()}},[[151,1,2]]]);
//# sourceMappingURL=main.fa7c8e89.chunk.js.map